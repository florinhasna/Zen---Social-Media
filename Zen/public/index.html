<!DOCTYPE html>
<html lang="en">

<head>
    <title>Zen</title>
    <meta charset="utf-8">
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.11.4/jquery-ui.min.js"></script>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="css/style.css" type="text/css" rel="stylesheet">
    <link rel="icon" href="assets/logo.png">
    <meta name="viewport" content="width=device-width, initial-scale=1">
</head>

<body class="body" id="body">
    <!-- Header Section -->
    <div id="header" class="container-fluid">
        <div class="row">
            <!-- Logo container-->
            <div class="col-md-2">
                <nav class="navbar navbar-expand-lg navbar-light">
                    <a class="navbar-brand">
                        <img src="assets/logo.png" width="40" height="40" class="d-inline-block align-top" alt="">
                    </a>
                </nav>
            </div>

            <!-- Search Bar // only visible when logged in -->
            <div class="col-md-8 mt-2" id="searchBar">
                <nav class="navbar">
                    <div class="container-fluid">
                        <form class="d-flex" id="searchForm" role="search">
                            <!-- Search Bar -->
                            <input class="form-control col-md-6 me-2" id="searchBarInput" type="search" placeholder="Search for users"
                                aria-label="Search">
                            <!-- Search Button -->
                            <button type="button" class="btn btn-outline-success col-md-2 myButton" onclick="searchUsers()"
                            data-bs-toggle="modal" data-bs-target="#searchResult">
                                <img src="assets/navbar/search.svg" width="20" height="20" alt="Search Icon"
                                    class="searchImage">
                            </button>
                        </form>
                    </div>
                </nav>
            </div>

            <!-- Navigation Bar // only visible when logged in -->
            <div class="col-md-1" id="menuBar">
                <nav class="navbar navbar-expand-lg">
                    <div class="navbar-nav navDiv" id="navbarNavDropdown">
                        <!-- Home Button -->
                        <button class="nav-item nav-link me-1" title="Home" onclick="homeButtonClick()" type="button">
                            <img src="assets/navbar/home.svg" width="30" height="30" alt="Home Icon">
                            Home
                        </button>
                        <!-- Profile Button -->
                        <button class="nav-item nav-link me-2" title="Profile" onclick="profileButtonClick()" type="button">
                            <img src="assets/navbar/user.png" width="30" height="30" alt="Profile Icon">
                            Profile
                        </button>
                        <!-- Logout Button -->
                        <button class="nav-item nav-link" title="Logout" onclick="logout()" type="button">
                            <img src="assets/navbar/logout-48.png" width="30" height="30" alt="Logout Icon">
                            Logout
                        </button>
                    </div>
                </nav>
            </div>
        </div>
    </div>

    <!-- Sections -->
    <div id="loginSection">
        <!-- Right Div Containing the Login Form -->
        <div id="loginRight" class="container-fluid">
            <p class="loginRegisterHeaderText">Sign In</p>
            <form id="loginForm">
                <hr><!-- Line Separator -->

                <!-- Containing Text for Forgot Password -->
                <div id="loginUpperTextBox" class="container-fluid">
                    <p class="forgotPasswordText" id="forgotPasswordText" data-bs-toggle="modal"
                        data-bs-target="#forgotPasswordModal">Forgot your password?</p>
                </div>

                <!-- Username Input -->
                <div class="form-group mb-3">
                    <input class="form-control" id="loginUsername" type="text" placeholder="Username">
                </div>

                <!-- Password Input -->
                <div class="form-group mb-4">
                    <input class="form-control" id="loginPassword" type="password" placeholder="Password">
                </div>

                <!-- Show Password Checkbox and Its Label -->
                <div class="form-check form-check-inline col-md-4 mb-3">
                    <!-- Show Password Checkbox and Its Label -->
                    <div class="form-check">
                        <input class="form-check-input" id="showPasswordLogin" type="checkbox" onclick="showLoginPassword()">
                        <label class="form-check-label" for="showPasswordLogin">Show password</label>
                    </div>
                </div>

                <!-- Keep Signed In Checkbox and Its Label -->
                <div class="form-check form-check-inline col-md-8 mb-2">
                    <div class="form-check">
                        <input class="form-check-input" type="checkbox" id="keepSignedIn" value="">
                        <label class="form-check-label form-check-inline col-md-12 mb-3" for="keepSignedIn">Keep me
                            signed in</label>
                    </div>
                </div>

                <p class="validationMessage" id="loginValidationMessage"></p>

                <!-- Login Button -->
                <button type="button" class="btn btn-primary btn-block col-md-12 mb-3"
                    onclick="login()">Login</button>

                <!-- Register Button -->
                <button type="button" class="btn btn-primary btn-block col-md-12 mb-2"
                    onclick="goToRegister()">Register</button>
                <!-- Line Separator -->
                <hr>
            </form>
        </div>
    </div>
    <div id="registerSection">
        <!-- Main Container for Registration Form -->
        <div class="container-fluid register">
            <p class="loginRegisterHeaderText">Register</p>
            <hr>

            <!-- Registration Form -->
            <form class="needs-validation" id="registerForm" novalidate>
                    <!-- Username Input -->
                    <div class="form-group row">
                        <div class="col-md-12 mb-3">
                            <label for="registerUsername">Username</label>
                            <div class="input-group mb-3">
                                <div class="input-group-prepend">
                                    <span class="input-group-text" id="validationTooltipUsernamePrepend">@</span>
                                </div>
                                <input type="text" class="form-control" id="registerUsername" placeholder="Username"
                                       aria-describedby="validationTooltipUsernamePrepend" required>
                                <div class="invalid-tooltip" id="usernameToolTip">Please choose a unique and valid username.</div>
                            </div>
                        </div>
                    </div>

                    <!-- First Row of Form -->
                    <div class="form-group row">
                        <div class="col-md-4 mb-3">
                            <label for="registerFirstName">First name</label>
                            <!-- First Name Input -->
                            <div class="input-group col-md-4 mb-3">
                                <input type="text" class="form-control" id="registerFirstName" placeholder="First name"
                                       required>
                                <div class="invalid-tooltip" id="firstNameToolTip">Invalid name format.</div>
                            </div>
                        </div>
                        <div class="col-md-4 mb-3">
                            <label for="registerLastName">Last name</label>
                            <!-- Last Name Input -->
                            <div class="input-group col-md-4 mb-3">
                                <input type="text" class="form-control" id="registerLastName" placeholder="Last name"
                                       required>
                                <div class="invalid-tooltip" id="lastNameToolTip">Invalid name format.</div>
                            </div>
                        </div>
                        <div class="col-md-4 mb-3">
                            <label for="registerMiddleName">Middle name (Optional)</label>
                            <!-- Middle Name Input (Optional) -->
                            <div class="input-group col-md-4 mb-3">
                                <input type="text" class="form-control" id="registerMiddleName"
                                       placeholder="Middle name">
                                <div class="invalid-tooltip" id="middleNameToolTip">Invalid name format.</div>
                            </div>
                        </div>
                    </div>

                    <!-- Second Row of Form -->
                    <div class="form-group row">
                        <div class="col-md-8 mb-3">
                            <label for="registerEmail">E-mail</label>
                            <!-- Email Input -->
                            <div class="input-group col-md-8 mb-3">
                                <input type="text" class="form-control" id="registerEmail" placeholder="E-mail"
                                       required>
                                <div class="invalid-tooltip" id="emailToolTip">Invalid email format.</div>
                            </div>
                        </div>

                        <div class="col-md-4 mb-3">
                            <label for="registerDob">Date of birth</label>
                            <!-- Date of Birth Input -->
                            <div class="input-group col-md-4 mb-3">
                                <input type="date" class="form-control" id="registerDob"
                                       min="1930-01-01" max="2009-12-31" required>
                                <div class="invalid-tooltip" id="dobToolTip">You must select a date of birth.</div>
                            </div>
                        </div>
                    </div>

                    <!-- Third Row of Form -->
                    <div class="form-group row">
                        <div class="col-md-6 mb-3">
                            <label for="registerCity">City</label>
                            <!-- City Input -->
                            <div class="input-group col-md-6 mb-3">
                                <input type="text" class="form-control" id="registerCity" placeholder="City" required>
                                <div class="invalid-tooltip" id="cityToolTip">Invalid city format.</div>
                            </div>
                        </div>
                        <div class="col-md-6 mb-3">
                            <label for="registerCountry">Country</label>
                            <!-- Country Input -->
                            <div class="input-group col-md-6 mb-3">
                                <input type="text" class="form-control" id="registerCountry" placeholder="Country"
                                       required>
                                <div class="invalid-tooltip" id="countryToolTip">Invalid country format.</div>
                            </div>
                        </div>
                    </div>

                    <div class="form-group row">
                        <div class="col-md-12 mb-3">
                            <label for="registerPassword">Password</label>
                            <!-- Password Input -->
                            <div class="input-group form-group mb-3">
                                <input type="password" class="form-control" id="registerPassword" placeholder="Password"
                                       required>
                                <div class="invalid-tooltip" id="passwordToolTip">Invalid password format.</div>
                            </div>
                        </div>
                    </div>
                    <div class="form-group row">
                        <div class="col-md-12 mb-1">
                            <label for="registerPasswordConfirm">Password confirmation</label>
                            <!-- Password Confirmation Input -->
                            <div class="input-group form-group mb-3">
                                <input type="password" class="form-control" id="registerPasswordConfirm" placeholder="Password confirmation"
                                       required>
                                <div class="invalid-tooltip" id="passwordConfirmToolTip">Invalid country format.</div>
                            </div>
                        </div>
                    </div>

                    <div class="form-group row">
                        <!-- Show Password Checkbox and Its Label -->
                        <div class="form-check col-md-7 mb-2">
                            <!-- Show Password Checkbox and Its Label -->
                            <div class="form-check">
                                <input class="form-check-input" type="checkbox" id="showPassword" onclick="showRegisterPassword()">
                                <label class="form-check-label" for="showPassword">Show password</label>
                            </div>
                        </div>
                        <!-- Agree to Terms Checkbox and Its Label -->
                        <div class="form-check col-md mb-2">
                            <div class="form-check">
                                <input class="form-check-input" type="radio" id="agreeTerms" onclick="agree()">
                                <label class="form-check-label" for="agreeTerms" id="agreeTermsLabel">I agree with terms and conditions.</label>
                            </div>
                        </div>
                    </div>

                <p class="validationMessage" id="registerValidationMessage"></p>

                <!-- Register Button -->
                <div class="form-group mb-3">
                    <button type="button" class="btn btn-primary btn-block col-md-12"
                        onclick="register()">Register</button>
                </div>

            </form>
            <!-- End of Registration Form -->
        </div>
    </div>
    <div id="homeSection">
        <div class="container-fluid leftBox" id="leftSideContainer"></div>
        <!-- Central Box -->
        <div class="container-fluid centralBox" id="centralBoxHome">

            <div class="container-fluid row">
                <!-- New Post Button -->
                <button type="button" class="btn btn-outline-success col-md-8 mt-3 myButton" data-bs-toggle="modal"
                        data-bs-target="#newPostModal">
                    New Post
                </button>

                <!-- Search Bar // only visible when logged in -->
                <div class="col-md-4 mt-3" id="searchPostBar">
                    <nav class="navbar">
                        <div class="container-fluid">
                            <form class="d-flex" id="searchPostForm" role="search">
                                <!-- Search Bar -->
                                <input class="form-control col-md-6 me-2 searchPostInput" id="searchPostBarInput" type="search" placeholder="Search for posts"
                                       aria-label="Search">
                                <!-- Search Button -->
                                <button type="button" class="btn btn-outline-success col-md-2 myButton" onclick="searchPosts()">
                                    <img src="assets/navbar/search.svg" width="20" height="20" alt="Search Icon"
                                         class="searchImage">
                                </button>
                            </form>
                        </div>
                    </nav>
                </div>
            </div>

            <hr>
            <div class="scrollDownContainer" id="postsField">
                <!--Code generated dynamically in main.js-->
            </div>
        </div>
        <div class="container-fluid rightBox" id="rightSideContainer"></div>

        <!-- Left and Right box generated dynamically in main.js -->
    </div>
    <div id="profileSection">
        <!-- Create main box container -->
        <div class="container-fluid centralBoxSettings" id="centralBoxSettings">

            <!-- Create profile top container -->
            <div class="container-fluid row profileTop">

                <!-- Create column 1 -->
                <div class="col-md-5" id="settingsProfilePicture">
                </div>

                <!-- Create column 2 -->
                <div class="col-md mt-1">
                    <p class="settingsProfileName" id="profileName">
                        <!-- User's full name, set in main.js -->
                    </p>
                    <p class="settingsProfileUsername" id="profileUsername">
                        <!-- User's username, set in main.js -->
                    </p>
                    <p id="profileLocation">
                        <!-- User's location, set in main.js -->
                    </p>
                    <p id="profileBiography">
                        <!-- User's biography, set in main.js -->
                    </p>
                </div>
            </div>

            <!-- Create HR element -->
            <hr>

            <!-- Create details container -->
            <div class="container-fluid">

                <p id="profileEmail">
                    <!-- User's email, set in main.js -->
                </p>
                <p id="profileDOB">
                    <!-- User's date of birth, set in main.js -->
                </p>

            </div>

            <!-- Create HR element -->
            <hr>

            <!-- Create edit button container -->
            <div class="container-fluid">

                <button type="button" class="btn btn-outline-success myButton" data-bs-toggle="modal"
                    data-bs-target="#editProfileModal" onclick="getDataToLoad()">
                    Edit
                </button>

            </div>

            <!-- Create line break element -->
            <br>

        </div>

    </div>
    <div id="viewProfilesSections">
        <div class="container-fluid centralBox">
            <div class="container-fluid row" id="otherProfileBox">
                <!-- Create column 1 -->
                <div class="col-md-3 me-3" id="otherProfileImage">
                </div>

                <!-- Create column 2 -->
                <div class="col-md-7 mt-1">
                    <p class="settingsProfileName" id="otherProfileName">
                        <!-- User's full name, set in main.js -->
                    </p>
                    <p class="otherProfileUsername" id="otherProfileUsername">
                        <!-- User's full name, set in main.js -->
                    </p>
                    <p id="otherProfileLocation">
                        <!-- User's location, set in main.js -->
                    </p>
                    <p id="otherProfileBiography">
                        <!-- User's biography, set in main.js -->
                    </p>

                    <p id="otherProfileFollowers">
                        <!-- User's followers, set in main.js -->
                    </p>

                    <p id="otherProfileFollowing">
                        <!-- User's following, set in main.js -->
                    </p>
                </div>

                <!-- Follow button -->
                <div class="col-md mt-3 otherFollowButton">
                    <button class="btn btn-outline-success" id="buttonOtherProfile" onclick="">Follow</button>
                </div>
            </div>
                <!--Container to hold posts, scrollable-->
            <div class="scrollDownContainerOther" id="otherProfilePosts">
                <!--Code will be generated dynamically in main.js-->
            </div>
        </div>
    </div>

    <!-- The New Post Modal -->
    <div class="modal fade" id="newPostModal">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">

                <!-- Modal Header -->
                <div class="modal-header">
                    <h4 class="modal-title">Create a new post</h4>
                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                </div>

                <!-- Modal body -->
                <div class="modal-body">
                    <form id="postForm">
                        <!-- Post text input -->
                        <label for="postTextArea">What's on your mind?</label>
                        <div>
                            <textarea class="form-control textAreaInputs" placeholder="" id="postTextArea"
                                      rows="10"></textarea>
                        </div>

                        <!-- Post attachment input -->
                        <label for="postFile" class="form-label">Attachments</label>
                        <div class="input-group mb-3 mt-3">
                            <input class="form-control" type="file" id="postFile">
                            <div class="invalid-tooltip" id="newPostFileTooltip"></div>
                        </div>
                    </form>
                </div>

                <!-- Modal footer -->
                <div class="modal-footer" id="postModalFooter">
                    <button type="button" class="btn btn-danger" data-bs-dismiss="modal">Close</button>
                    <button type="button" class="btn btn-success" onclick="createPost()">Post</button>
                </div>
            </div>
        </div>
    </div>

    <!-- The Forgot Password Modal -->
    <div class="modal fade" id="forgotPasswordModal">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">

                <!-- Modal Header -->
                <div class="modal-header">
                    <h4 class="modal-title">Reset your password</h4>
                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                </div>

                <!-- Modal body -->
                <div class="modal-body">
                    <!-- Info text -->
                    <p class="modalResetText">To reset your password, enter your username and email. If there is any
                        account matching the details,
                        you will be sent an email with the new password.
                    </p>

                    <!-- Form to get username and email -->
                    <form id="modalResetPassword">
                        <!-- Username Input -->
                        <div class="form-group mb-3">
                            <label for="usernameModalForgotPassword">Username</label>
                            <div class="input-group">
                                <div class="input-group-prepend">
                                    <span class="input-group-text" id="usernamePrependModal">@</span>
                                </div>
                                <input type="text" class="form-control" id="usernameModalForgotPassword"
                                    placeholder="Username" required>
                            </div>
                        </div>


                        <!-- Email Input -->
                        <div class="form-group mb-4">
                            <label for="modalResetPassEmail">Email</label>
                            <input class="form-control" type="text" id="modalResetPassEmail" placeholder="Email">
                        </div>
                    </form>
                </div>

                <!-- Modal footer -->
                <div class="modal-footer">
                    <button type="button" class="btn btn-danger" data-bs-dismiss="modal">Close</button>
                    <button type="button" class="btn btn-success">Submit</button>
                </div>
            </div>
        </div>
    </div>

    <!-- The Edit Profile Modal -->
    <div class="modal fade" id="editProfileModal">
        <div class="modal-dialog modal-dialog-centered modal-dialog-centered modal-dialog-scrollable">
            <div class="modal-content">

                <!-- Modal Header -->
                <div class="modal-header">
                    <h4 class="modal-title">Edit your profile</h4>
                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                </div>

                <!-- Modal body -->
                <div class="modal-body scrollableModal">
                    <p><span class="highlightText">NOTE:</span> Only the modified fields will update.</p>

                    <!-- Similar to registration Form -->
                    <form class="needs-validation" id="editForm" novalidate>

                        <!-- Username Input -->
                        <div class="form-group mb-3">
                            <div class="input-group">
                                <p>Username:<span class="highlightText" id="modalUsername"></span></p>
                            </div>
                        </div>

                        <!-- First Row of Form -->
                        <div class="form-group">
                            <label for="modalFirstName">First name</label>
                            <!-- First Name Input -->
                            <div class="input-group mb-3">
                                <input type="text" class="form-control" id="modalFirstName" placeholder="First name"
                                    required>
                                <div class="invalid-tooltip" id="editFirstNameTooltip">Invalid name format.</div>
                            </div>
                            <label for="modalLastName">Last name</label>
                            <!-- Last Name Input -->
                            <div class="input-group mb-3">
                                <input type="text" class="form-control" id="modalLastName" placeholder="Last name"
                                    required>
                                <div class="invalid-tooltip" id="editLastNameTooltip">Invalid name format.</div>
                            </div>
                            <label for="modalMiddleName">Middle name (Optional)</label>
                            <!-- Middle Name Input (Optional) -->
                            <div class="input-group mb-3">
                                <input type="text" class="form-control" id="modalMiddleName" placeholder="Middle name">
                                <div class="invalid-tooltip" id="editMiddleNameTooltip">Invalid name format.</div>
                            </div>
                        </div>

                        <!-- Second Row of Form -->
                        <div class="form-group">
                            <label for="modalEmail">E-mail</label>
                            <!-- Email Input -->
                            <div class="input-group mb-3">
                                <input type="text" class="form-control" id="modalEmail" placeholder="E-mail" required>
                                <div class="invalid-tooltip" id="editEmailTooltip">Invalid email format.</div>
                            </div>
                            <!-- Date of Birth Input -->
                            <div class="mb-3">
                                <p>Date of birth:<span class="highlightText" id="profileModalDOB"></span></p>

                            </div>
                        </div>

                        <!-- Third Row of Form -->
                        <div class="form-group">
                            <label for="modalCity">City</label>
                            <!-- City Input -->
                            <div class="input-group mb-3">
                                <input type="text" class="form-control" id="modalCity" placeholder="City" required>
                                <div class="invalid-tooltip" id="editCityTooltip">Invalid format!</div>
                            </div>
                            <label for="modalCountry">Country</label>
                            <!-- Country Input -->
                            <div class="input-group mb-3">
                                <input type="text" class="form-control" id="modalCountry" placeholder="Country"
                                    required>
                                <div class="invalid-tooltip" id="editCountryTooltip">Invalid format!</div>
                            </div>
                            <label for="formFileEditProfile" class="form-label">Change your profile picture</label>
                            <!-- Update Profile Picture Input -->
                            <div class="input-group mb-3">
                                <input class="form-control" type="file" id="formFileEditProfile">
                                <div class="invalid-tooltip" id="editPictureTooltip"></div>
                            </div>
                            <label for="modalBio">Biography</label>
                            <!-- Bio Input -->
                            <div class="input-group mb-3">
                                <input type="text" class="form-control" id="modalBio" placeholder="Update your biography!"
                                       required>
                                <div class="invalid-tooltip" id="editBioTooltip"></div>
                            </div>
                        </div>
                    </form>
                </div>

                <!-- Modal footer -->
                <div class="modal-footer">
                    <p id="editConfirmation"></p>
                    <button type="button" class="btn btn-danger" data-bs-dismiss="modal">Close</button>
                    <button type="button" class="btn btn-success" onclick="editSaveButton()">Save changes</button>
                </div>
            </div>
        </div>
    </div>

    <!-- The Comments Modal -->
    <div class="modal fade" id="commentsModal">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">

                <!-- Modal Header -->
                <div class="modal-header" id="commentsModalHeader">
                    <h4 class="modal-title">Comments</h4>
                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                    <input type="hidden" id="postIdentifierCommentModal" value="">
                </div>

                <!-- Modal body -->
                <div class="modal-body" id="commentContainer">
                    <!-- Container to hold comments -->
                    <div class="modal-dialog-scrollable comments" id="commentsContainer">
                        <!-- Code will be generated dynamically in main.js -->
                    </div>
                    <!-- Bottom container to get input from user -->
                    <div class="input-group commentInput">
                        <!-- Input field -->
                        <div class="form-floating-sm me-2 commentInputDiv">
                            <input class="form-control" placeholder="Comment" id="commentInputModal">
                        </div>

                        <!-- Send button -->
                        <div class="input-group-append">
                            <button class="btn btn-outline-secondary" type="button" id="sendComment">
                                <img src="assets/send.png" width="20" alt="">
                            </button>
                        </div>
                    </div>
                </div>

                <!-- Modal footer -->
                <div class="modal-footer">
                    <button type="button" class="btn btn-danger" data-bs-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Search results modal -->
    <div class="modal fade" id="searchResult">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">

                <!-- Modal Header -->
                <div class="modal-header">
                    <h4 class="modal-title">Results</h4>
                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                </div>

                <!-- Modal body -->
                <div class="modal-body">
                    <!-- Container to hold comments -->
                    <div class="modal-dialog-scrollable" id="searchResultsContainer">
                        <!-- Code will be generated dynamically in main.js -->

                        <!-- End example -->
                    </div>
                </div>

                <!-- Modal footer -->
                <div class="modal-footer">
                    <button type="button" class="btn btn-danger" data-bs-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>
    <footer class="footer">
        <div class="container-fluid">
            <p>© Copyrights Zen. All rights reserved.</p>
        </div>
    </footer>
    <script src="script/main.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>